{{extend 'layout.html'}}

{{block head}}
<script src="{{=URL('static', 'js/vue.js')}}"></script>
<script>
    var add_post_url = "{{=URL('api', 'add_post', user_signature=True)}}";
    var get_post_list_url = "{{=URL('api', 'get_post_list')}}";
    // Like callbacks.
    var set_like_url = "{{=URL('api', 'set_like', user_signature=True)}}";
    var get_likers_url = "{{=URL('api', 'get_likers')}}"
    // Comments.
    var getCommentsUrl = "{{=URL('api', 'get_comments')}}";
    var insertCommentsUrl = "{{=URL('api', 'insert_comment', user_signature=True)}}";
    var edit_post_url = "{{=URL('api', 'edit_post', user_signature=True)}}";
    var edit_comment_url = "{{=URL('api', 'edit_comment', user_signature=True)}}";
    // Images.
    var image_post_url = "{{=URL('api', 'post_image')}}";
    var image_get_url = "{{=URL('api', 'get_image')}}";
    // Stars.
    var set_stars_url = "{{=URL('api', 'set_stars', user_signature=True)}}";
    var is_logged_in = "{{='false' if auth.user is None else 'true'}}";
</script>
{{end}}

<head>
	<link rel="stylesheet" href="{{=URL('static','css/profile.css')}}"/>
</head>


<header>

	    <navbar>
	    <a href="{{=URL('default', 'index')}}"> <i class="fa fa-home" aria-hidden="true"></i></a>
	    </navbar>
	    <navbar>
	    <a href="search.html"> <i class="fa fa-search" aria-hidden="true"></i></a>
	  </navbar>
	  <navbar>
	    <a href="likes.html"> <i class="fa fa-heart-o" aria-hidden="true"></i></a>
	  </navbar>
	  <navbar>
	    <a href="{{=URL('default', 'profile')}}"><i class="fa fa-user-o" aria-hidden="true"></i></a>
	  </navbar>


	<div class="container">

		<div class="profile">

			<div class="profile-image">

				<img src="https://images.unsplash.com/photo-1513721032312-6a18a42c8763?w=152&h=152&fit=crop&crop=faces" alt="">

			</div>

			<div class="profile-user-settings">

				<h1 class="profile-user-name"> {{=auth.user.first_name}}</h1>

				<h3 class="profile-real-name"> {{=get_user_email()}} </h3>

				<button class="btn profile-edit-btn">Edit Profile</button>

			</div>

			<div class="profile-stats">

				<ul>
					<li><span class="profile-stat-count">164</span> posts</li>
				</ul>

			</div>

			<div class="profile-bio">

				<p>Lorem ipsum dolor sit, amet consectetur adipisicing elit 📷✈️🏕️</p>

			</div>

		</div>
		<!-- End of profile section -->

	</div>
	<!-- End of container -->

</header>

<main>

	<div class="container">
		<div id="vue-div" class="display:none">
			<div class="gallery">
				<div class="card" v-for="post in post_list">
					<div class="gallery-item" tabindex="0">
						<img v-bind:src="post.post_image" class="gallery-image"/>
						<div class="gallery-item-info">
							<ul>
								<li class="gallery-item-likes"><span class="visually-hidden">Likes:</span><i class="fa fa-heart" aria-hidden="true"></i> 56</li>
								<li class="gallery-item-comments"><span class="visually-hidden">Comments:</span><i class="fa fa-comment" aria-hidden="true"></i> 2</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- End of gallery -->

		<div class="loader"></div>

	</div>
	<!-- End of container -->

</main>

<script src="{{=URL('static', 'js/profile.js')}}"></script>